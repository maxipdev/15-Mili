---
import { Image } from 'astro:assets';
import foto1 from '../assets/foto-1.jpg';
import foto2 from '../assets/foto-2.jpg';
import foto3 from '../assets/foto-3.jpg';
---

<section>
    <div class="visor">
    <div class="slider-track">
        <div class="slide">
            <div class="contenedor-img">
                <Image class={'img'} src={foto1} alt="foto de mili posando"/>
            </div>
        </div>
        <div class="slide">
            <div class="contenedor-img">
                <Image class={'img'} src={foto2} alt="foto de mili posando"/>
            </div>
        </div>
        <div class="slide">
            <div class="contenedor-img">
                <Image class={'img'} src={foto3} alt="foto de mili posando"/>
        </div>
    </div>
</div>
</section>

<style>
    section {
        display: flex;
        justify-content: center;
        margin: 10px 0;
        margin-bottom: 30px;
    }

    /* 1. EL VISOR: Define el tamaño de la "ventana" */
    .visor {
        width: 350px;       /* Ancho de UNA sola foto */
        height: 400px;      /* Alto de las fotos */
        display: flex;
        align-items: center;  /* Centrado en la página */
        overflow: hidden;   /* Oculta las fotos que están a los lados */
        /* border: solid 1.5px palevioletred; */
        border-radius: 10px; /* Opcional: bordes redondeados */
        box-shadow: 0 4px 10px palevioletred;
    }

    /* 2. LA PISTA: Contiene todas las fotos en fila */
    .slider-track {
        display: flex;
        width: 300%; /* 3 fotos = 300% del ancho del visor */
        height: 100%;
        
        /* La animación mágica */
        animation: slide-animation 10s infinite ease-in-out;
    }

    /* 3. CADA SLIDE INDIVIDUAL */
    .slide {
        width: 100%; /* Ocupa el 100% del espacio disponible en la pista para una foto */
        height: 100%;
    }

   .contenedor-img {
        width: 350px;
        height: 400px;

        .img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    }

    /* 4. LA ANIMACIÓN (Matemática para 3 fotos) 
       - 0% a 20%: Muestra foto 1
       - 33% a 53%: Muestra foto 2
       - 66% a 86%: Muestra foto 3
       - 100%: Vuelve al inicio
    */
    @keyframes slide-animation {
        /* FOTO 1 (Quieta) */
        0% { transform: translateX(0); }
        30% { transform: translateX(0); }
        
        /* Transición a FOTO 2 */
        35% { transform: translateX(-33.333%); } /* Mueve 1 tercio */
        65% { transform: translateX(-33.333%); } /* Se queda quieta */

        /* Transición a FOTO 3 */
        70% { transform: translateX(-66.666%); } /* Mueve 2 tercios */
        95% { transform: translateX(-66.666%); } /* Se queda quieta */

        /* Vuelta al principio (Sin pausa para que sea un bucle o rebobinado rápido) */
        100% { transform: translateX(0); }
    }
</style>












